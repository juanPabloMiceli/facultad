Supongamos que tenemos N cabinas.
Podemos modelar este ejercicio mediante un digrafo pesado. LLamando Ci al costo de la cabina i y Cij al costo de viajar de forma directa entre las cabinas i y j. Cada cabina será modelada con un nodo, mientras que cada camino directo será un camino dirigido. Si se viaja entre la cabina i y la cabina j el costo será -Cij+Cj, siendo Cj positivo si cobramos y negativo si pagamos. Ya que estamos representando la perdida en el viaje más la ganancia en la cabina. Aquí queremos descubrir si existe algún ciclo positivo en donde los conductores puedan generar ganancia infinita. Como no hay algoritmos para ver si existen ciclos positivos vamos a multiplicar por -1 todos los costos y buscar ciclos negativos. Esto lo podemos hacer con Bellman-Ford iniciando desde cualquier cabina y analizando si el algoritmo termina en menos de N pasos. Si pasados los N pasos el algoritmo no terminó entonces existen ciclos negativos. La complejidad de este algoritmo es de N*M. Siendo N la cantidad de cabinas y M la cantidad de caminos directos entre cabinas.

Supongamos que ahora existen cabinas mixtas.

Cada cabina Ci la separo en 2, una que sería la cabina que cobra (Ci-) y otra la que paga (Ci+). Para todo (Cj->Ci) donde Cj es una cabina fija, si Cj cobraba entonces creamos (Cj->Ci+), analogamente si Cj pagaba creamos (Cj->Ci-). La arista de salida de Ci se duplica en Ci+ y Ci-. Conectar ahora 2 cabinas mixtas es trivial, ya que si tenemos Ci y Cj mixtas y (Ci->Cj) conectaremos Ci+ con Cj- y Ci- con Cj+. Ahora volvemos a aplicar Bellman-Ford y tenemos el resultado al igual que antes.